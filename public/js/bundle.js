!function(){var createModuleFactory=function(t){var e;return function(n){return e||t(e={exports:{},parent:n},e.exports),e.exports}},_$underscoreUmd_4=createModuleFactory((function(t,e){(function(n){(function(){!function(n,r){"object"==typeof e&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define("underscore",r):(n="undefined"!=typeof globalThis?globalThis:n||self,function(){var t=n._,e=n._=r();e.noConflict=function(){return n._=t,e}}())}(this,(function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n||Function("return this")()||{},e=Array.prototype,r=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,o=e.push,a=e.slice,s=r.toString,u=r.hasOwnProperty,l="undefined"!=typeof ArrayBuffer,c="undefined"!=typeof DataView,h=Array.isArray,f=Object.keys,d=Object.create,p=l&&ArrayBuffer.isView,v=isNaN,_=isFinite,g=!{toString:null}.propertyIsEnumerable("toString"),m=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],y=Math.pow(2,53)-1;function b(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function x(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function w(t){return void 0===t}function j(t){return!0===t||!1===t||"[object Boolean]"===s.call(t)}function E(t){var e="[object "+t+"]";return function(t){return s.call(t)===e}}var $=E("String"),k=E("Number"),S=E("Date"),A=E("RegExp"),N=E("Error"),T=E("Symbol"),M=E("ArrayBuffer"),I=E("Function"),O=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof O&&(I=function(t){return"function"==typeof t||!1});var H=I,R=E("Object"),C=c&&R(new DataView(new ArrayBuffer(8))),P="undefined"!=typeof Map&&R(new Map),L=E("DataView"),U=C?function(t){return null!=t&&H(t.getInt8)&&M(t.buffer)}:L,B=h||E("Array");function V(t,e){return null!=t&&u.call(t,e)}var q=E("Arguments");!function(){q(arguments)||(q=function(t){return V(t,"callee")})}();var z=q;function F(t){return k(t)&&v(t)}function D(t){return function(){return t}}function J(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=y}}function W(t){return function(e){return null==e?void 0:e[t]}}var X=W("byteLength"),G=J(X),K=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Q=l?function(t){return p?p(t)&&!U(t):G(t)&&K.test(s.call(t))}:D(!1),Y=W("length");function Z(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=m.length,i=t.constructor,o=H(i)&&i.prototype||r,a="constructor";for(V(t,a)&&!e.contains(a)&&e.push(a);n--;)(a=m[n])in t&&t[a]!==o[a]&&!e.contains(a)&&e.push(a)}function tt(t){if(!x(t))return[];if(f)return f(t);var e=[];for(var n in t)V(t,n)&&e.push(n);return g&&Z(t,e),e}function et(t,e){var n=tt(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function nt(t){return t instanceof nt?t:this instanceof nt?void(this._wrapped=t):new nt(t)}function rt(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,X(t))}nt.VERSION="1.13.6",nt.prototype.value=function(){return this._wrapped},nt.prototype.valueOf=nt.prototype.toJSON=nt.prototype.value,nt.prototype.toString=function(){return String(this._wrapped)};function it(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&function t(e,n,r,o){e instanceof nt&&(e=e._wrapped),n instanceof nt&&(n=n._wrapped);var a=s.call(e);if(a!==s.call(n))return!1;if(C&&"[object Object]"==a&&U(e)){if(!U(n))return!1;a="[object DataView]"}switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return i.valueOf.call(e)===i.valueOf.call(n);case"[object ArrayBuffer]":case"[object DataView]":return t(rt(e),rt(n),r,o)}var u="[object Array]"===a;if(!u&&Q(e)){if(X(e)!==X(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;u=!0}if(!u){if("object"!=typeof e||"object"!=typeof n)return!1;var l=e.constructor,c=n.constructor;if(l!==c&&!(H(l)&&l instanceof l&&H(c)&&c instanceof c)&&"constructor"in e&&"constructor"in n)return!1}o=o||[];for(var h=(r=r||[]).length;h--;)if(r[h]===e)return o[h]===n;if(r.push(e),o.push(n),u){if((h=e.length)!==n.length)return!1;for(;h--;)if(!it(e[h],n[h],r,o))return!1}else{var f,d=tt(e);if(h=d.length,tt(n).length!==h)return!1;for(;h--;)if(!V(n,f=d[h])||!it(e[f],n[f],r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n,r)}function ot(t){if(!x(t))return[];var e=[];for(var n in t)e.push(n);return g&&Z(t,e),e}function at(t){var e=Y(t);return function(n){if(null==n)return!1;var r=ot(n);if(Y(r))return!1;for(var i=0;i<e;i++)if(!H(n[t[i]]))return!1;return t!==ht||!H(n[st])}}var st="forEach",ut=["clear","delete"],lt=["get","has","set"],ct=ut.concat(st,lt),ht=ut.concat(lt),ft=["add"].concat(ut,st,"has"),dt=P?at(ct):E("Map"),pt=P?at(ht):E("WeakMap"),vt=P?at(ft):E("Set"),_t=E("WeakSet");function gt(t){for(var e=tt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function mt(t){for(var e={},n=tt(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function yt(t){var e=[];for(var n in t)H(t[n])&&e.push(n);return e.sort()}function bt(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}}var xt=bt(ot),wt=bt(tt),jt=bt(ot,!0);function Et(t){if(!x(t))return{};if(d)return d(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function $t(t){return B(t)?t:[t]}function kt(t){return nt.toPath(t)}function St(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function At(t,e,n){var r=St(t,kt(e));return w(r)?n:r}function Nt(t){return t}function Tt(t){return t=wt({},t),function(e){return et(e,t)}}function Mt(t){return t=kt(t),function(e){return St(e,t)}}function It(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function Ot(t,e,n){return null==t?Nt:H(t)?It(t,e,n):x(t)&&!B(t)?Tt(t):Mt(t)}function Ht(t,e){return Ot(t,e,1/0)}function Rt(t,e,n){return nt.iteratee!==Ht?nt.iteratee(t,e):Ot(t,e,n)}function Ct(){}function Pt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}nt.toPath=$t,nt.iteratee=Ht;var Lt=Date.now||function(){return(new Date).getTime()};function Ut(t){var e=function(e){return t[e]},n="(?:"+tt(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}var Bt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Vt=Ut(Bt),qt=Ut(mt(Bt)),zt=nt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ft=/(.)^/,Dt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Jt=/\\|'|\r|\n|\u2028|\u2029/g;function Wt(t){return"\\"+Dt[t]}var Xt=/^\s*(\w|\$)+\s*$/,Gt=0;function Kt(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=Et(t.prototype),a=t.apply(o,i);return x(a)?a:o}var Qt=b((function(t,e){var n=Qt.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return Kt(t,r,this,this,a)};return r}));Qt.placeholder=nt;var Yt=b((function(t,e,n){if(!H(t))throw new TypeError("Bind must be called on a function");var r=b((function(i){return Kt(t,r,e,this,n.concat(i))}));return r})),Zt=J(Y);function te(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,a=Y(t);o<a;o++){var s=t[o];if(Zt(s)&&(B(s)||z(s)))if(e>1)te(s,e-1,n,r),i=r.length;else for(var u=0,l=s.length;u<l;)r[i++]=s[u++];else n||(r[i++]=s)}return r}var ee=b((function(t,e){var n=(e=te(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Yt(t[r],t)}return t})),ne=b((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),re=Qt(ne,nt,1);function ie(t){return function(){return!t.apply(this,arguments)}}function oe(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var ae=Qt(oe,2);function se(t,e,n){e=Rt(e,n);for(var r,i=tt(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r}function ue(t){return function(e,n,r){n=Rt(n,r);for(var i=Y(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}var le=ue(1),ce=ue(-1);function he(t,e,n,r){for(var i=(n=Rt(n,r,1))(e),o=0,a=Y(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o}function fe(t,e,n){return function(r,i,o){var s=0,u=Y(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+u,s):u=o>=0?Math.min(o+1,u):o+u+1;else if(n&&o&&u)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(a.call(r,s,u),F))>=0?o+s:-1;for(o=t>0?s:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}}var de=fe(1,le,he),pe=fe(-1,ce);function ve(t,e,n){var r=(Zt(t)?le:se)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function _e(t,e,n){var r,i;if(e=It(e,n),Zt(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=tt(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function ge(t,e,n){e=Rt(e,n);for(var r=!Zt(t)&&tt(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o}function me(t){return function(e,n,r,i){var o=arguments.length>=3;return function(e,n,r,i){var o=!Zt(e)&&tt(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var u=o?o[s]:s;r=n(r,e[u],u,e)}return r}(e,It(n,i,4),r,o)}}var ye=me(1),be=me(-1);function xe(t,e,n){var r=[];return e=Rt(e,n),_e(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function we(t,e,n){e=Rt(e,n);for(var r=!Zt(t)&&tt(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0}function je(t,e,n){e=Rt(e,n);for(var r=!Zt(t)&&tt(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1}function Ee(t,e,n,r){return Zt(t)||(t=gt(t)),("number"!=typeof n||r)&&(n=0),de(t,e,n)>=0}var $e=b((function(t,e,n){var r,i;return H(e)?i=e:(e=kt(e),r=e.slice(0,-1),e=e[e.length-1]),ge(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=St(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function ke(t,e){return ge(t,Mt(e))}function Se(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=Zt(t)?t:gt(t)).length;s<u;s++)null!=(r=t[s])&&r>o&&(o=r);else e=Rt(e,n),_e(t,(function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}var Ae=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ne(t){return t?B(t)?a.call(t):$(t)?t.match(Ae):Zt(t)?ge(t,Nt):gt(t):[]}function Te(t,e,n){if(null==e||n)return Zt(t)||(t=gt(t)),t[Pt(t.length-1)];var r=Ne(t),i=Y(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=Pt(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,e)}function Me(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=Rt(r,i),_e(n,(function(e,i){var a=r(e,i,n);t(o,e,a)})),o}}var Ie=Me((function(t,e,n){V(t,n)?t[n].push(e):t[n]=[e]})),Oe=Me((function(t,e,n){t[n]=e})),He=Me((function(t,e,n){V(t,n)?t[n]++:t[n]=1})),Re=Me((function(t,e,n){t[n?0:1].push(e)}),!0);function Ce(t,e,n){return e in n}var Pe=b((function(t,e){var n={},r=e[0];if(null==t)return n;H(r)?(e.length>1&&(r=It(r,e[1])),e=ot(t)):(r=Ce,e=te(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n})),Le=b((function(t,e){var n,r=e[0];return H(r)?(r=ie(r),e.length>1&&(n=e[1])):(e=ge(te(e,!1,!1),String),r=function(t,n){return!Ee(e,n)}),Pe(t,r,n)}));function Ue(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Be(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:Ue(t,t.length-e)}function Ve(t,e,n){return a.call(t,null==e||n?1:e)}var qe=b((function(t,e){return e=te(e,!0,!0),xe(t,(function(t){return!Ee(e,t)}))})),ze=b((function(t,e){return qe(t,e)}));function Fe(t,e,n,r){j(e)||(r=n,n=e,e=!1),null!=n&&(n=Rt(n,r));for(var i=[],o=[],a=0,s=Y(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e&&!n?(a&&o===l||i.push(u),o=l):n?Ee(o,l)||(o.push(l),i.push(u)):Ee(i,u)||i.push(u)}return i}var De=b((function(t){return Fe(te(t,!0,!0))}));function Je(t){for(var e=t&&Se(t,Y).length||0,n=Array(e),r=0;r<e;r++)n[r]=ke(t,r);return n}var We=b(Je);function Xe(t,e){return t._chain?nt(e).chain():e}function Ge(t){return _e(yt(t),(function(e){var n=nt[e]=t[e];nt.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),Xe(this,n.apply(nt,t))}})),nt}_e(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var n=e[t];nt.prototype[t]=function(){var e=this._wrapped;return null!=e&&(n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0]),Xe(this,e)}})),_e(["concat","join","slice"],(function(t){var n=e[t];nt.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=n.apply(t,arguments)),Xe(this,t)}}));var Ke=Ge({__proto__:null,VERSION:"1.13.6",restArguments:b,isObject:x,isNull:function(t){return null===t},isUndefined:w,isBoolean:j,isElement:function(t){return!(!t||1!==t.nodeType)},isString:$,isNumber:k,isDate:S,isRegExp:A,isError:N,isSymbol:T,isArrayBuffer:M,isDataView:U,isArray:B,isFunction:H,isArguments:z,isFinite:function(t){return!T(t)&&_(t)&&!isNaN(parseFloat(t))},isNaN:F,isTypedArray:Q,isEmpty:function(t){if(null==t)return!0;var e=Y(t);return"number"==typeof e&&(B(t)||$(t)||z(t))?0===e:0===Y(tt(t))},isMatch:et,isEqual:function(t,e){return it(t,e)},isMap:dt,isWeakMap:pt,isSet:vt,isWeakSet:_t,keys:tt,allKeys:ot,values:gt,pairs:function(t){for(var e=tt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},invert:mt,functions:yt,methods:yt,extend:xt,extendOwn:wt,assign:wt,defaults:jt,create:function(t,e){var n=Et(t);return e&&wt(n,e),n},clone:function(t){return x(t)?B(t)?t.slice():xt({},t):t},tap:function(t,e){return e(t),t},get:At,has:function(t,e){for(var n=(e=kt(e)).length,r=0;r<n;r++){var i=e[r];if(!V(t,i))return!1;t=t[i]}return!!n},mapObject:function(t,e,n){e=Rt(e,n);for(var r=tt(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},identity:Nt,constant:D,noop:Ct,toPath:$t,property:Mt,propertyOf:function(t){return null==t?Ct:function(e){return At(t,e)}},matcher:Tt,matches:Tt,times:function(t,e,n){var r=Array(Math.max(0,t));e=It(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},random:Pt,now:Lt,escape:Vt,unescape:qt,templateSettings:zt,template:function(t,e,n){!e&&n&&(e=n),e=jt({},e,nt.templateSettings);var r=RegExp([(e.escape||Ft).source,(e.interpolate||Ft).source,(e.evaluate||Ft).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(e,n,r,a,s){return o+=t.slice(i,s).replace(Jt,Wt),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e})),o+="';\n";var a,s=e.variable;if(s){if(!Xt.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(l){throw l.source=o,l}var u=function(t){return a.call(this,t,nt)};return u.source="function("+s+"){\n"+o+"}",u},result:function(t,e,n){var r=(e=kt(e)).length;if(!r)return H(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=H(o)?o.call(t):o}return t},uniqueId:function(t){var e=++Gt+"";return t?t+e:e},chain:function(t){var e=nt(t);return e._chain=!0,e},iteratee:Ht,partial:Qt,bind:Yt,bindAll:ee,memoize:function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return V(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},delay:ne,defer:re,throttle:function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Lt(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=Lt();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},debounce:function(t,e,n){var r,i,o,a,s,u=function(){var l=Lt()-i;e>l?r=setTimeout(u,e-l):(r=null,n||(a=t.apply(s,o)),r||(o=s=null))},l=b((function(l){return s=this,o=l,i=Lt(),r||(r=setTimeout(u,e),n&&(a=t.apply(s,o))),a}));return l.cancel=function(){clearTimeout(r),r=o=s=null},l},wrap:function(t,e){return Qt(e,t)},negate:ie,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:oe,once:ae,findKey:se,findIndex:le,findLastIndex:ce,sortedIndex:he,indexOf:de,lastIndexOf:pe,find:ve,detect:ve,findWhere:function(t,e){return ve(t,Tt(e))},each:_e,forEach:_e,map:ge,collect:ge,reduce:ye,foldl:ye,inject:ye,reduceRight:be,foldr:be,filter:xe,select:xe,reject:function(t,e,n){return xe(t,ie(Rt(e)),n)},every:we,all:we,some:je,any:je,contains:Ee,includes:Ee,include:Ee,invoke:$e,pluck:ke,where:function(t,e){return xe(t,Tt(e))},max:Se,min:function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=Zt(t)?t:gt(t)).length;s<u;s++)null!=(r=t[s])&&r<o&&(o=r);else e=Rt(e,n),_e(t,(function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o},shuffle:function(t){return Te(t,1/0)},sample:Te,sortBy:function(t,e,n){var r=0;return e=Rt(e,n),ke(ge(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:Ie,indexBy:Oe,countBy:He,partition:Re,toArray:Ne,size:function(t){return null==t?0:Zt(t)?t.length:tt(t).length},pick:Pe,omit:Le,first:Be,head:Be,take:Be,initial:Ue,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Ve(t,Math.max(0,t.length-e))},rest:Ve,tail:Ve,drop:Ve,compact:function(t){return xe(t,Boolean)},flatten:function(t,e){return te(t,e,!1)},without:ze,uniq:Fe,unique:Fe,union:De,intersection:function(t){for(var e=[],n=arguments.length,r=0,i=Y(t);r<i;r++){var o=t[r];if(!Ee(e,o)){var a;for(a=1;a<n&&Ee(arguments[a],o);a++);a===n&&e.push(o)}}return e},difference:qe,unzip:Je,transpose:Je,zip:We,object:function(t,e){for(var n={},r=0,i=Y(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(a.call(t,r,r+=e));return n},mixin:Ge,default:nt});return Ke._=Ke,Ke}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})})),_$backbone_3={};(function(t){(function(){!function(e){var n="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],(function(t,r,i){n.Backbone=e(n,i,t,r)}));else if(void 0!==_$backbone_3){var r,i=_$underscoreUmd_4({});try{r=require("jquery")}catch(o){}e(n,_$backbone_3,i,r)}else n.Backbone=e(n,{},n._,n.jQuery||n.Zepto||n.ender||n.$)}((function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.4.1",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a,s=e.Events={},u=/\s+/,l=function(t,e,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)e=l(t,e,a[s],r[a[s]],o)}else if(r&&u.test(r))for(a=r.split(u);s<a.length;s++)e=t(e,a[s],i,o);else e=t(e,r,i,o);return e};s.on=function(t,e,n){return this._events=l(c,this._events||{},t,e,{context:n,ctx:this,listening:a}),a&&((this._listeners||(this._listeners={}))[a.id]=a,a.interop=!1),this},s.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=a=o[i];s||(this._listenId||(this._listenId=n.uniqueId("l")),s=a=o[i]=new _(this,t));var u=h(t,e,r,this);if(a=void 0,u)throw u;return s.interop&&s.on(e,r),this};var c=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return t},h=function(t,e,n,r){try{t.on(e,n,r)}catch(i){return i}};s.off=function(t,e,n){return this._events?(this._events=l(f,this._events,t,e,{context:n,listeners:this._listeners}),this):this},s.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(e,r,this),s.interop&&s.off(e,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var f=function(t,e,r,i){if(t){var o,a=i.context,s=i.listeners,u=0;if(e||a||r){for(o=e?[e]:n.keys(t);u<o.length;u++){var l=t[e=o[u]];if(!l)break;for(var c=[],h=0;h<l.length;h++){var f=l[h];if(r&&r!==f.callback&&r!==f.callback._callback||a&&a!==f.context)c.push(f);else{var d=f.listening;d&&d.off(e,r)}}c.length?t[e]=c:delete t[e]}return t}for(o=n.keys(s);u<o.length;u++)s[o[u]].cleanup()}};s.once=function(t,e,n){var r=l(d,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},s.listenToOnce=function(t,e,n){var r=l(d,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var d=function(t,e,r,i){if(r){var o=t[e]=n.once((function(){i(e,o),r.apply(this,arguments)}));o._callback=r}return t};s.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return l(p,this._events,t,void 0,n),this};var p=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&v(i,r),o&&v(o,[e].concat(r))}return t},v=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},_=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};_.prototype.on=s.on,_.prototype.off=function(t,e){var n;this.interop?(this._events=l(f,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},_.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(e,s);var g=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(g.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,h=this._previousAttributes;for(var f in i)e=i[f],n.isEqual(l[f],e)||s.push(f),n.isEqual(h[f],e)?delete c[f]:c[f]=e,o?delete l[f]:l[f]=e;if(this.idAttribute in i){var d=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,d,r)}if(!a){s.length&&(this._pending=r);for(var p=0;p<s.length;p++)this.trigger("change:"+s[p],this,l[s[p]],r)}if(u)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in t){var a=t[o];n.isEqual(r[o],a)||(i[o]=a,e=!0)}return!!e&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},F(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,u=this.attributes;r.success=function(t){a.attributes=u;var e=r.parse?a.parse(t,r):t;if(o&&(e=n.extend({},i,e)),e&&!a.set(e,r))return!1;s&&s.call(r.context,a,t,r),a.trigger("sync",a,t,r)},F(this,r),i&&o&&(this.attributes=n.extend({},u,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var c=this.sync(l,this,r);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(F(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||z();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var m=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},y={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},x=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(m.prototype,s,{model:g,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,b))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){(e=n.extend({},y,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,a,s=[],u=[],l=[],c=[],h={},f=e.add,d=e.merge,p=e.remove,v=!1,_=this.comparator&&null==i&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var m=this.get(o);if(m){if(d&&o!==m){var b=this._isModel(o)?o.attributes:o;e.parse&&(b=m.parse(b,e)),m.set(b,e),l.push(m),_&&!v&&(v=m.hasChanged(g))}h[m.cid]||(h[m.cid]=!0,s.push(m)),t[a]=m}else f&&(o=t[a]=this._prepareModel(o,e))&&(u.push(o),this._addReference(o,e),h[o.cid]=!0,s.push(o))}if(p){for(a=0;a<this.length;a++)h[(o=this.models[a]).cid]||c.push(o);c.length&&this._removeModels(c,e)}var w=!1,j=!_&&f&&p;if(s.length&&j?(w=this.length!==s.length||n.some(this.models,(function(t,e){return t!==s[e]})),this.models.length=0,x(this.models,s,0),this.length=this.models.length):u.length&&(_&&(v=!0),x(this.models,u,null==i?this.length:i),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(a=0;a<u.length;a++)null!=i&&(e.index=i+a),(o=u[a]).trigger("add",o,this,e);(v||w)&&this.trigger("sort",this,e),(u.length||c.length||l.length)&&(e.changes={added:u,removed:c,merged:l},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t,t.idAttribute)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t,e){return t[e||this.model.prototype.idAttribute||"id"]},values:function(){return new j(this,E)},keys:function(){return new j(this,$)},entries:function(){return new j(this,k)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){return this._isModel(t)?(t.collection||(t.collection=this),t):((e=e?n.clone(e):{}).collection=this,(r=this.model.prototype?new this.model(t,e):this.model(t,e)).validationError?(this.trigger("invalid",this,r.validationError,e),!1):r);var r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes,i.idAttribute);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof g},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes,t.idAttribute);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes,t.idAttribute);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"changeId"===t){var i=this.modelId(e.previousAttributes(),e.idAttribute),o=this.modelId(e.attributes,e.idAttribute);null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e)}}this.trigger.apply(this,arguments)}});var w="function"==typeof Symbol&&Symbol.iterator;w&&(m.prototype[w]=m.prototype.values);var j=function(t,e){this._collection=t,this._kind=e,this._index=0},E=1,$=2,k=3;w&&(j.prototype[w]=function(){return this}),j.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===E)t=e;else{var n=this._collection.modelId(e.attributes,e.idAttribute);t=this._kind===$?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var S=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,N)),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,N=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(A);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var T=function(t,e,r,i){n.each(r,(function(n,r){e[r]&&(t.prototype[r]=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(e){return t[n](this[r],e)};case 3:return function(e,i){return t[n](this[r],M(e,this),i)};case 4:return function(e,i,o){return t[n](this[r],M(e,this),i,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),t[n].apply(t,e)}}}(e,n,r,i))}))},M=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?I(t):n.isString(t)?function(e){return e.get(t)}:t},I=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}};n.each([[m,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[g,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(t){var e=t[0],r=t[1],i=t[2];e.mixin=function(t){var r=n.reduce(n.functions(t),(function(t,e){return t[e]=0,t}),{});T(e,t,r,i)},T(e,n,r,i)})),e.sync=function(t,r,i){var o=O[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||z()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,l,i),l};var O={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var H=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,P=/\*\w+/g,L=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(H.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(i,a,r)&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(L,"\\$&").replace(R,"(?:$1)?").replace(C,(function(t,e){return e?t:"([^/?]+)"})).replace(P,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var U=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,V=/^\/+|\/+$/g,q=/#.*$/;U.started=!1,n.extend(U.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(B,"")},start:function(t){if(U.started)throw new Error("Backbone.history has already been started");if(U.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(V,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),U.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!U.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(q,"");var i=this.decodeFragment(t);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new U,g.extend=m.extend=H.extend=S.extend=U.extend=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};var z=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var _=_$underscoreUmd_4({}),_$header_11=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<style>\nbody {\n  font-size: 2em;\n}\n</style>\n<h1>Backbone Build System</h1>\n";return __p},_$backboneNativeview_2={exports:{}},factory;factory=function(t){var e=/^\s*</,n="undefined"!=typeof Element&&Element.prototype||{},r=n.addEventListener?function(t,e){return this.addEventListener(t,e,!1)}:function(t,e){return this.attachEvent("on"+t,e)},i=n.removeEventListener?function(t,e){return this.removeEventListener(t,e,!1)}:function(t,e){return this.detachEvent("on"+t,e)},o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||function(t){return~function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}((this.parentNode||document).querySelectorAll(t)||[],this)},a=t.View;return t.NativeViewMixin={_domEvents:null,constructor:function(){return this._domEvents=[],a.apply(this,arguments)},$:function(t){return this.el.querySelectorAll(t)},_removeElement:function(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},_setElement:function(t){if("string"==typeof t)if(e.test(t)){var n=document.createElement("div");n.innerHTML=t,this.el=n.firstChild}else this.el=document.querySelector(t);else t&&t.length?this.el=t[0]:this.el=t},_setAttributes:function(t){for(var e in t)e in this.el?this.el[e]=t[e]:this.el.setAttribute(e,t[e])},delegate:function(t,e,n){var i=this.el;if(i){if("function"==typeof e&&(n=e,e=null),-1!==["focus","blur"].indexOf(t)){for(var a=this.el.querySelectorAll(e),s=0,u=a.length;s<u;s++){var l=a[s];r.call(l,t,n,!1),this._domEvents.push({el:l,eventName:t,handler:n})}return n}var c=e?function(t){for(var r=t.target||t.srcElement;r&&r!=i;r=r.parentNode)o.call(r,e)&&(t.delegateTarget=r,n(t))}:n;return r.call(this.el,t,c,!1),this._domEvents.push({el:this.el,eventName:t,handler:c,listener:n,selector:e}),c}},undelegate:function(t,e,n){if("function"==typeof e&&(n=e,e=null),this.el)for(var r=this._domEvents.slice(),o=r.length;o--;){var a=r[o];!(a.eventName!==t||n&&a.listener!==n||e&&a.selector!==e)&&(i.call(a.el,a.eventName,a.handler,!1),this._domEvents.splice(o,1))}return this},undelegateEvents:function(){if(this.el){for(var t=0,e=this._domEvents.length;t<e;t++){var n=this._domEvents[t];i.call(n.el,n.eventName,n.handler,!1)}this._domEvents.length=0}return this}},t.NativeView=t.View.extend(t.NativeViewMixin),t.NativeView},"function"==typeof define&&define.amd?define(["backbone"],factory):_$backboneNativeview_2.exports=factory(_$backbone_3),_$backboneNativeview_2=_$backboneNativeview_2.exports;var _$header_12={};_$underscoreUmd_4({}),_$backbone_3.NativeView=_$backboneNativeview_2,_$header_12=_$backbone_3.NativeView.extend({el:"#header",initialize:function(){this.render()},template:_$header_11,render:function(){this.el.textContent="",this.el.insertAdjacentHTML("beforeend",this.template({test:"Hello World"}))}});var ____9=_$underscoreUmd_4({}),_$footer_9=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<style>\nfooter {\n  padding: 1em;\n  text-align: center;\n}\n</style>\n\n<p>Note: This is an opinionated backbonejs example.</p>\n";return __p},_$footer_10={};_$underscoreUmd_4({}),_$backbone_3.NativeView=_$backboneNativeview_2,_$footer_10=_$backbone_3.NativeView.extend({el:"footer",initialize:function(){this.render()},template:_$footer_9,render:function(){this.el.textContent="",this.el.insertAdjacentHTML("beforeend",this.template({test:"Hello World"}))}});var ____15=_$underscoreUmd_4({}),_$home_15=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<style>\n  body {\n    background: #0071b5;\n    margin: 0;\n  }\n  header, footer {\n    color: #fff;\n    height: 5vh;\n  }\n  header h1 {\n    margin: 0;\n    padding: 20px;\n    text-align: center;\n  }\n  .projects {\n    display: flex;\n    flex-wrap: wrap;\n    align-content: center;\n    justify-content: center;\n    gap: 50px;\n    height: 78vh;\n  }\n  .project-icon {\n    background-color: #fff;\n    border-radius: 100px;\n    display: block;\n    padding:25px;\n  }\n  .project-icon img {\n    display: block;\n    margin: auto;\n    width: 120px;\n  }\n\n  /* irregulars */\n  a[href="/about/underscore"] {\n    background-color: #f8f8f8;\n  }\n\n  a[href="/about/backbone"] img {\n    width: 95px;\n    padding: 0 15px;\n  }\n\n  a[href="/about/http-server"] img {\n    width: 100px;\n    padding: 10px;\n  }\n\n  a[href="/about/browserify"],\n  a[href="/about/tinyify"],\n  a[href="/about/watchify"] {\n    padding: 35px 25px;\n  }\n</style>\n\n<div class="projects">\n  ',____15.each(projectList,(function(t){__p+='\n    <div class="project">\n      <a title="'+(null==(__t=t.project_name)?"":__t)+'" class="project-icon" data-backbone-route href="'+(null==(__t=t.local_url)?"":__t)+'">\n        <img width="90" src="'+(null==(__t=t.logo)?"":__t)+'" alt=""/>\n      </a>\n    </div>\n  '})),__p+="\n</div>\n";return __p},____5=_$underscoreUmd_4({}),_$helpers_5=function(t){____5.each(document.querySelectorAll("[data-backbone-route]"),(function(e){e.addEventListener("click",(function(e){e.preventDefault(),t.navigate(this.getAttribute("href").replace("/",""),{trigger:!0})}))}))},_$backboneNativeajax_1={},__factory_1;__factory_1=function(){var t,e,n,r,i=(t=/^(?:application|text)\/xml/,e=/^application\/json/,n=function(n,i,o,a,s){return function(){if(r(n,o),4===n.readyState){var u=n.status,l=function(n,r){return null==n&&(n=r.getResponseHeader("content-type")),t.test(n)?r.responseXML:e.test(n)&&""!==r.responseText?JSON.parse(r.responseText):r.responseText}(i.headers&&i.headers.Accept,n);if(function(t){return t.status>=200&&t.status<300||304===t.status||0===t.status&&"file:"===window.location.protocol}(n))i.success&&i.success(l),a&&a(l);else{var c=new Error("Server responded with a status of "+u);i.error&&i.error(n,u,c),s&&s(n)}}}},r=function(t,e){if(e){for(var n=["readyState","status","statusText","responseText","responseXML","setRequestHeader","getAllResponseHeaders","getResponseHeader","statusCode","abort"],r=0;r<n.length;r++){var i=n[r];try{e[i]="function"==typeof t[i]?t[i].bind(t):t[i]}catch(o){console.log(o)}}return e}},function(t){if(null==t)throw new Error("You must provide options");null==t.type&&(t.type="GET");var e,o,a=new XMLHttpRequest,s=i.Promise||"undefined"!=typeof Promise&&Promise,u=s&&new s((function(t,n){e=t,o=n}));if(t.contentType&&(null==t.headers&&(t.headers={}),t.headers["Content-Type"]=t.contentType),"GET"===t.type&&"object"==typeof t.data){var l="",c=function(t,e){return null==e?"":"&"+encodeURIComponent(t)+"="+encodeURIComponent(e)};for(var h in t.data)l+=c(h,t.data[h]);if(l){var f=-1===t.url.indexOf("?")?"?":"&";t.url+=f+l.substring(1)}}if(a.onreadystatechange=n(a,t,u,e,o),a.open(t.type,t.url,!1!==t.async),!t.headers||!t.headers.Accept){var d="*/".concat("*"),p={"*":d,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"};a.setRequestHeader("Accept",t.dataType&&p[t.dataType]?p[t.dataType]+("*"!==t.dataType?", "+d+"; q=0.01":""):p["*"])}if(t.headers)for(var h in t.headers)a.setRequestHeader(h,t.headers[h]);return t.beforeSend&&t.beforeSend(a),a.send(t.data),t.originalXhr=a,r(a,u),u||a});return i},"function"==typeof define&&define.amd?define(__factory_1):"object"==typeof _$backboneNativeajax_1?_$backboneNativeajax_1=__factory_1():Backbone.ajax=__factory_1();var _$home_16={};_$backbone_3.NativeView=_$backboneNativeview_2,_$backbone_3.ajax=_$backboneNativeajax_1,_$home_16=_$backbone_3.NativeView.extend({el:"main",initialize:function(t){this.router=t.router,this.collection.fetch(),this.listenTo(this.collection,"sync change",this.render)},template:_$home_15,render:function(){this.el.textContent="",this.el.insertAdjacentHTML("beforeend",this.template({projectList:this.collection.toJSON()})),_$helpers_5(this.router)}});var ____13=_$underscoreUmd_4({}),_$about_13=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<style>\n  body {\n    padding: 25px 50px;\n  }\n\n  h1 {\n    margin-top: 0;\n  }\n\n  ul {\n    list-style-type: none;\n  }\n\n  li {\n    display: flex;\n    align-items: center;\n    gap: 25px;\n    padding: 25px;\n  }\n\n  img {\n    width: 300px;\n  }\n\n  img.author {\n    border-radius: 50px;\n    width: 100px;\n  }\n</style>\n<section id="details">\n  <div class="breadcrumb">\n    <a href="/">Home</a> > '+(null==(__t=details.id)?"":__t)+"\n  </div>\n  <h2>"+(null==(__t=details.project_name)?"":__t)+"</h2>\n  <p>"+(null==(__t=details.description)?"":__t)+'</p>\n  <ul>\n    <li>\n      <img src="'+(null==(__t=details.logo)?"":__t)+'" alt="" />\n      <a href="'+(null==(__t=details.homepage)?"":__t)+'">  \n        '+(null==(__t=details.homepage)?"":__t)+'\n      </a>\n    </li>\n    <li>\n      <img class="author" src="'+(null==(__t=details.avatar)?"":__t)+'" alt="" />\n      Author: '+(null==(__t=details.author)?"":__t)+"\n    </li>\n  </ul>\n</section>\n";return __p},_$about_14={};_$backbone_3.NativeView=_$backboneNativeview_2,_$backbone_3.ajax=_$backboneNativeajax_1,_$about_14=_$backbone_3.NativeView.extend({el:"main",initialize:function(t){this.listenTo(this.model,"sync change",this.render)},template:_$about_13,render:function(){this.el.textContent="",this.el.insertAdjacentHTML("beforeend",this.template({details:this.model.toJSON()}))}});var LibraryModel=_$backbone_3.Model.extend({project_name:null,local_url:null,logo:null}),LibraryCollection=_$backbone_3.Collection.extend({model:LibraryModel,url:"/json/library-collection.json"}),_$LibraryCollection_7=LibraryCollection,LibraryDetailsModel=_$backbone_3.Model.extend({defaults:{project_name:null,project_type:null,description:null,repository_url:null,homepage:null,author:null,avatar:null,logo:null},url:"/json/details"}),_$LibraryDetailsModel_8=LibraryDetailsModel,_$src_6={};_$underscoreUmd_4({});var Router=_$backbone_3.Router.extend({routes:{"about/:name":"library","":"home"}}),headerView=new _$header_12,footerView=new _$footer_10,router=new Router;headerView.render(),footerView.render(),router.on("route:home",(function(){var t=new _$LibraryCollection_7;new _$home_16({collection:t,router:router}).render()})),router.on("route:library",(function(t){var e=new _$LibraryDetailsModel_8,n=new _$about_14({model:e,router:router});e.fetch({url:"/json/details/"+t+".json",success:function(t){n.render(t)},error:function(t){console.log(t)}})})),_$backbone_3.history.start({pushState:!0,root:""})}();